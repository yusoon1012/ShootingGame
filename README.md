# ShootingGame
strikers 1945를 reference하여 C#콘솔로만드는 슈팅게임
/*20230626*/
int배열로 필드를 만든후에 각 칸에 const int로 타입별로 숫자를 지정해준 뒤에
이중for문을 사용해 필드를 그릴때 그 값이 들어가있으면 값에 해당하는것을 그리고
0일경우엔 공백을 출력하게해주었다.

while문 안에서 키를 눌렀을때만 움직일 수 있도록 if(Console.KeyAvailable)을 사용하여기체움직임구현

총알 발사와 세로형 폭탄구현
총알 리스트를 만들어 Z버튼을 누를때마다 플레이어 좌표 위쪽으로 add하고 while문안에서 Y축이동을 계속하게 만들고 Y좌표값이 0이될때 리스트에서삭제
세로형폭탄은 총알과 같은방식에 X키를 눌렀을때 플레이어 좌표 위쪽에있는 모든칸과 좌우 5칸을 add해주어서 광역데미지를 줄 수 있도록 제작.

타이틀씬, 기체선택씬, 게임오버씬 구현
기체선택씬을 제외한부분은 폴리싱 하기전에 씬을 나눠주기위해서만 추가한 것이므로 기능은 추가하지않음
기체 선택씬 에서는 console.setcursorposition을 이용하여 방향키를 누르면 x값을 이동할 변수를 만들어주어서
x값이 특정위치에있을때 엔터를 누르면 기체가 골라지는 시스템을 구현하기위해 씬 제작.

플레이어 총알과 적 좌표가 동일할때 적을지우고  랜덤위치에 재생성하도록 제작

기체선택시 타입구분
기체선택화면에서 좌표값을 이용해 정해진위치에서 엔터를 누르면 필드클래스에있는 unitType변수를 변경하게되고
이 변수값에 따라서 기체타입이 달라지는지 확인하기위해 기체 외형을 다르게 제작

적 처치시 폭탄과 파워업 랜덤위치생성
적과 총알의 좌표가같을때 폭탄과 파워업 아이템이 필드 랜덤위치에 드랍되게하였지만 처치할때마다 드랍이되었기때문에 추후 수정예정

세로형 폭탄을 개량해서 가로형폭탄 구현
위에서 제작한 세로형폭탄은 플레이어 y좌표 위쪽에 전부추가하였지만 기체별 특성을 주어야했기때문에 기체타입이 달라졌을때 사용하기위한 다른유형의 폭탄을 만들었다.
제작과정은 x키를 눌렀을때 bool isBombExplode값을 true로 바꿔주고 플레이어 좌표 위아래로 5칸 좌우로5칸에 총알을 추가해주고 while문안에 총알이동을 처리하는부분에 isBombExplode가true인경우 위로 올라가는 동작을 실행하지않고 플레이어 총알을 담고있는 list의 카운트를 %연산하여 나머지가 0이면 오른쪽으로 나머지가 1이면 왼쪽으로 가게하여 좌우로 퍼지는 폭탄을 구현

적 기체 총알발사 구현
플레이어 기체의 발사방식과 비슷하게 총알 리스트를 만들어주고 적 아래쪽에 추가해서 while문에서 계속 y값이 추가되게 해준뒤 필드 크기 끝에 도달하면 삭제되게해주었다. 그리고 System.Environment.TickCount를 사용하여 총알의 속도를 지연시켜주었다. 

///사용된 타이머 코드
if (eBullet.bulletTimer == 0)//타이머가 0일경우
{
eBullet.bulletTimer = System.Environment.TickCount; //타이머를 현재 시간으로 맞추어줌
}
eBullet.bulletCheck = System.Environment.TickCount;  //타이머를 현재 시간으로 맞추어줌
                                                     //timer의경우 0일때만 현재시간으로 맞추어주지만
                                                     //Check의 경우 항상 현재 시간으로맞추어준다

if (eBullet.bulletCheck - eBullet.bulletTimer <= 30) //그래서 현재시간과 타이머에서 맞춘 시간의 차이가
                                                     //0.03초가되는지 체크해주고
{
    //참이라면 아직 0.03초가 되지않았기때문에
    //아무동작도하지않음
}
else 
{                       
eBullet.Y += 1;
 eBullet.bulletTimer = 0;//타이머를 0으로 만들어줌
}
///사용된 타이머 코드

이 코드는 모든 타이머가 필요한부분에 동일하게 들어갔다.

기체 리스폰시 무적 구현
플레이어기체가 적의 총알에 충돌하게되면 체력이 깎이면서 초기 좌표로 리셋된 후에 리스폰이되는데 
리스폰 bool값이 true면 타이머를 추가하여 일정시간동안 상대 총알에 맞아도 죽지않는상태를 구현



/*20230627*/
파워업이 드랍되고 파워업아이템과 플레이어위치가 동일하게되면 
파워업 카운트를 올려준다.

p38기체 파워업구현
파워업아이템을 먹을시 기존 총알은 가운데로 나가지만 좌우에 하나씩 추가하여 발사되고
2개를 먹게되면 추가된총알 좌우로 하나더 추가하여 넓어지도록 구현

SPITFIRE기체 파워업시에 방사형으로 나가는총알 구현
(총알을 List로 관리해 일반적인경우 Y축이동만하고 일정총알에만 X축이동을 주어서 퍼지게함)
일반적으로 진행되는 총알은 y축으로만 이동하지만 spitfire의경우 파워업시에 좌우로 총알을 더 추가하고
추가한 총알에 대하여 왼쪽에있으면 x축의값을 -하고 오른쪽에있으면 +를 하여서 범위를 점점 범위를 넓혀가면서 진행되도록 처리


J7W기체 차별화 구현
집중공격형으로 총알 퍼짐은 줄이는대신 공격력이 올라가게세팅
기본형은 파워업아이템을 먹을시에 좌우로 넓어지지만 j7w는 플레이어기체 이상으로 넓어지지않고 위아래로
총알을 추가하여 점사총알처럼 순간화력이 늘어나도록 구현

win32 api GetKeyState사용으로 조작감개선
기존 readKey로는 첫입력과 누르고있는동안 입력이 부자연스럽고 대각선처리가
쉽지않기때문에 비동기 처리방식인 GetkeyState함수를 이용하여 누르고있는동안 이동하고 다중키입력을 자연스럽게 처리할수있도록 변경함.

적 이동
적이 한자리에 고정된상태에서 리스폰될때만 위치가바뀌었기때문에 전체적으로 y축으로 내려오도록하고 y축이 필드를 벗어나거나 플레이어 총알에 맞았을때 다시 랜덤생성되도록처리하였지만 처치당하는 순간 계속 랜덤생성되기때문에 난이도가 높아져 추후 수정

보스 추가및 테스트
적을 잡을때 카운트를추가하여 일정수의 적을 처치했을때 보스추가에대한bool값을 true로 바꾸고
보스 리스트를만들어서 크기만큼의 값을 추가 한뒤에 필드에서 추가해준뒤
총알과 보스리스트에있는 값의 위치가 같으면 총알 삭제와 보스체력을 깎도록 구현했지만
이 과정에서 튕기는 버그 발생

/*20230628*/
보스 버그수정
보스와 총알 위치가같을때 발생하던 버그가 예외처리를 잘못하여 필드밖으로 나간총알과 보스에맞은 총알이 같이있으면 두번삭제해버려서 배열값을 초과해버려서 터지는문제를 수정하였다.

적 기체총알 가로진행 테스트
적이 아래로 내려오면서 가로로 총알이 나가게 구현하고싶었으나
총알이 계속 플레이어를따라오는 문제가 발생

/*20230629*/
보스의 총알 구현
보스의 총알을 보스위치 가운데 주변에서 추가하고 추가된총알이 8방향으로 나갈수있도록
좌우에있으면 x축을 진행하고 위아래에 있으면 y축을 진행하게하여
대각선처리도 자연스럽게되도록 구현

게임오버화면에서타이머가돌아가고 엔터로 이어하기가되는데 엔터이외의키를 누르게되면 시간초가 빨리돌아가도록 구현

보스 왼팔 오른팔 체력과 리스트 추가
보스의 팔도 보스와 동일하게 총알 추가하고 진행하도록 구현


/*20230630*/
비어있던 타이틀화면 1945 아스키아트 추가
press any key 문자가 깜빡이면서 계속출력되게 추가

기체선택화면에서 비어있던공간을 기체정보를 표시하는 화면을 추가

인게임 인터페이스 비어었는공간을 체력과 폭탄 스코어를 볼수있도록 표시
인게임 인터페이스에 입력한 키를 출력

게임오버화면 글자로만 출력되는 숫자를 특수문자로 변경
게임오버 글씨 가독성을위해 배경과 아스키아트 추가


